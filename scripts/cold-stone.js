const isDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches;"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t=window.COLD_STONE.root+"sw.js";navigator.serviceWorker.register(t)});const path=location.pathname,navLinkList=Array.from(document.querySelectorAll(".nav-list-item")),navs=["/tags/","/about/","/friends/","/projects/","/archives/","/categories/"];"/"===path||/page/.test(path)?navLinkList[0].classList.add("active"):navs.forEach(function(t,e){if(t===path){const e=navLinkList.find(function(e){return e.dataset.link===t});e&&e.classList.add("active")}});const tocLinkList=document.querySelectorAll(".toc-link");tocLinkList.forEach(function(t){const e=t.href.replace(location.origin+"/",location.href);t.setAttribute("href",e)});const loader=document.getElementById("loader"),utteranc=document.getElementById("utteranc");if(utteranc){const t=document.createElement("script");t.async=!0,t.crossOrigin="anonymous",t.src="https://utteranc.es/client.js",t.setAttribute("repo",window.COLD_STONE.repo),t.setAttribute("issue-term","pathname"),isDarkMode?t.setAttribute("theme","github-dark"):t.setAttribute("theme","github-light"),utteranc.appendChild(t);const e=setTimeout(function(){loader.remove(),clearTimeout(e)},3e3)}const back=document.getElementById("back");back&&back.addEventListener("click",function(){history.back()});const backTop=document.getElementById("backTop");backTop&&(window.addEventListener("scroll",()=>{const{scrollTop:t,scrollHeight:e,clientHeight:o}=document.scrollingElement;t+o>=e?backTop.classList.add("show"):backTop.classList.remove("show")}),backTop.addEventListener("click",function(){window.scroll({top:0,left:0,behavior:"smooth"})}));